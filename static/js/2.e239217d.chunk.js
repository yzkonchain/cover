(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[2],{260:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var u=n(15),j=n(22),h=n(17),f=n(0),O=n(12),x=n(85),p=n(3),m=h.ethers.constants.Zero,y={bond:m,coll:m,I:{bond:"",coll:""},old:{bond:"",coll:""}},v=function(e,t){return h.ethers.utils.formatUnits(e,t||18)};function c(){Object(f.useContext)(O.d).state.controller;var e=Object(f.useContext)(O.e),t=e.liteState,n=t.pool,c=t.bond,l=(t.want,t.coll),a=t.data,o=e.classesChild,s=e.handleClick,e=Object(f.useReducer)(function(e,t){return Object(u.a)(Object(u.a)({},e),t)},y),e=Object(j.a)(e,2),i=e[0],r=e[1],e=Object(f.useState)(""),e=Object(j.a)(e,2),d=e[0],b=e[1];return Object(f.useEffect)(function(){return i==y||r(y)},[n]),Object(f.useEffect)(function(){var e=(e=i.I.coll,h.ethers.utils.parseUnits(e||"0",18));e.eq(i.coll)||(e.gt(a.balance.coll)&&b("Insufficient Balance"),r({coll:e,bond:e,I:Object(u.a)(Object(u.a)({},i.I),{},{bond:v(e)})}))},[i.I]),Object(f.useMemo)(function(){return Object(p.jsxs)("div",{className:o.root,children:[Object(p.jsxs)("div",{className:o.amount,children:[Object(p.jsx)("div",{children:Object(p.jsx)(x.a,{title:"coll",State:{state:i,setState:r,token:l,max:a.balance.coll,if_max:a.balance.coll.gt("0")},style:{height:"50px"}})}),Object(p.jsx)("span",{className:o.icon_arrow,children:"navigate_next"}),Object(p.jsx)(x.b,{title:"bond",State:{state:i,token:c,max:a.balance.bond},style:{height:"50px"}})]}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(p.jsx)("div",{style:{fontFamily:"Helvetica",fontSize:"14px",color:"red"},children:d}),Object(p.jsx)(x.c,{apy:parseFloat(a.apy).toPrecision(3),info:"APY is the fixed-rate lending interest received by\n          lender. This is the total cost for the 2-year-duration\n          loan. When lender exits before the expiry date, the\n          interest earned for the remainder of the loan at that\n          moment will be deducted in COLLAR.\n          "})]}),Object(p.jsx)("div",{className:o.button,children:Object(p.jsx)("div",{children:Object(p.jsx)(x.f,{name:"Repay",onClick:function(){return s("repaywithcoll")(i.coll).then(function(){return r({I:{bond:"",coll:""}})})},disabled:m.eq(i.bond)||!n.ct.signer})})})]})},[i,a,d])}}}]);